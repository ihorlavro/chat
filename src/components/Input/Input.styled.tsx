import styled, { css } from 'styled-components';

type InputProps = {
  success?: boolean;
  error?: boolean;
  errorText?: string;
};

const inputIconCss = (success?: boolean, error?: boolean) => css`
  content: ${(success || error) && ''};
  position: absolute;
  top: 0;
  right: 0;
  width: 20px;
  height: 20px;

  ${success && css`
    background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M17.0742 2.92579C13.1732 -0.975262 6.82684 -0.975262 2.92579 2.92579C-0.975262 6.82598 -0.975262 13.174 2.92579 17.0742C4.8759 19.0252 7.43795 19.9998 10 19.9998C12.562 19.9998 15.1233 19.0252 17.0742 17.0742C20.9753 13.174 20.9753 6.82598 17.0742 2.92579V2.92579ZM15.5919 7.2545L9.75574 13.0907C9.67841 13.1682 9.58653 13.2297 9.48538 13.2716C9.38422 13.3135 9.27578 13.3351 9.16628 13.335C9.05678 13.3351 8.94834 13.3135 8.84718 13.2716C8.74603 13.2297 8.65414 13.1682 8.57681 13.0907L5.2419 9.75574C4.91592 9.42976 4.91592 8.90283 5.2419 8.57685C5.56787 8.25088 6.09481 8.25088 6.42078 8.57685L9.16628 11.3223L14.413 6.07566C14.7389 5.74968 15.2659 5.74968 15.5919 6.07566C15.9178 6.40159 15.9178 6.92853 15.5919 7.2545V7.2545Z' fill='%236FC041'/%3E%3C/svg%3E%0A");
  `}

  ${error && css`
    background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M17.0745 2.92563C13.1738 -0.975017 6.82666 -0.975402 2.92563 2.92563C-0.975402 6.82666 -0.975017 13.1734 2.92563 17.0745C6.82628 20.9755 13.1734 20.9755 17.0745 17.0745C20.9751 13.1734 20.9751 6.82628 17.0745 2.92563V2.92563ZM13.9453 13.9453C13.801 14.0896 13.6053 14.1707 13.4012 14.1707C13.1972 14.1707 13.0015 14.0896 12.8571 13.9453L10 11.0882L7.00713 14.0812C6.93614 14.1547 6.85122 14.2133 6.75732 14.2536C6.66343 14.294 6.56245 14.3152 6.46026 14.3161C6.35808 14.317 6.25674 14.2975 6.16216 14.2588C6.06758 14.2201 5.98165 14.163 5.90939 14.0907C5.83714 14.0184 5.77999 13.9325 5.7413 13.8379C5.7026 13.7434 5.68313 13.642 5.68402 13.5398C5.68491 13.4376 5.70614 13.3367 5.74647 13.2428C5.7868 13.1489 5.84543 13.064 5.91893 12.993L8.91185 10L6.05477 7.14296C5.98126 7.07197 5.92263 6.98705 5.8823 6.89316C5.84197 6.79926 5.82074 6.69828 5.81985 6.59609C5.81896 6.49391 5.83843 6.39257 5.87713 6.29799C5.91582 6.20341 5.97297 6.11748 6.04523 6.04523C6.11749 5.97297 6.20341 5.91582 6.29799 5.87713C6.39257 5.83843 6.49391 5.81896 6.59609 5.81985C6.69828 5.82074 6.79926 5.84197 6.89316 5.8823C6.98705 5.92263 7.07197 5.98126 7.14296 6.05477L10 8.91185L12.7209 6.19098C12.7919 6.11748 12.8768 6.05885 12.9707 6.01852C13.0646 5.97818 13.1656 5.95695 13.2678 5.95607C13.37 5.95518 13.4713 5.97465 13.5659 6.01334C13.6605 6.05204 13.7464 6.10918 13.8187 6.18144C13.8909 6.2537 13.9481 6.33963 13.9868 6.43421C14.0254 6.52879 14.0449 6.63012 14.044 6.73231C14.0431 6.83449 14.0219 6.93548 13.9816 7.02937C13.9412 7.12326 13.8826 7.20818 13.8091 7.27918L11.0882 10L13.9453 12.8571C14.0896 13.0015 14.1707 13.1972 14.1707 13.4012C14.1707 13.6053 14.0896 13.801 13.9453 13.9453Z' fill='%23F44336'/%3E%3C/svg%3E%0A");
  `}
`;

export const Input = styled.input<InputProps>`
  width: 100%;
  padding: 18px;
  background: #ffffff;
  border: 1px solid #dddddd;
  border-radius: 4px;
  font-family: inherit;
  font-weight: normal;
  font-size: 16px;
  line-height: 19px;
  height: 56px;
  color: #202020;
  outline: none;

  &::placeholder {
    color: #b4b4b4;
    font-family: inherit;
  }

  &::before {
    content: ${props => props.errorText};
    position: absolute;
    top: calc(100% + 8px);
    left: 0;
    width: 100%;
    font-family: inherit;
    font-weight: normal;
    font-size: 14px;
    line-height: 16px;
    color: ${props => props.theme.colors.error};
  }

  &::after {
    ${props => css`
      ${inputIconCss(props.success, props.error)}
    `}
  }

  ${props => props.success && css`
    border-color: ${props.theme.colors.success};
  `}

  ${props => props.error && css`
    border-color: ${props.theme.colors.error};
  `}
`;

export const InputWrapper = styled.div``;
